---
import CallToAction from './CallToAction.astro';
import Icon from './Icon.astro';

type SocialLink = {
  href: string;
  icon: 'github-logo' | 'linkedin-logo' | 'youtube-logo';
  aria: string;
  label: string;
};

const socialLinks: SocialLink[] = [
  {
    href: 'https://www.linkedin.com/in/ivan-skorupan-9ba1b118b/',
    icon: 'linkedin-logo',
    aria: 'Connect with me on LinkedIn',
    label: 'LinkedIn',
  },
  {
    href: 'https://github.com/frle10',
    icon: 'github-logo',
    aria: 'View my work on GitHub',
    label: 'GitHub',
  },
  {
    href: 'https://www.youtube.com/@Frlee',
    icon: 'youtube-logo',
    aria: 'Subscribe to my YouTube channel',
    label: 'YouTube',
  },
];
---

<aside class="contact-section">
  <div class="wrapper">
    <div class="content">
      <h2>Interested in working together?</h2>
      <p>
        Iâ€™m always open to discussing new projects and opportunities. If you have something in mind,
        I'd love to hear from you.
      </p>
    </div>

    <div class="actions">
      <CallToAction href="mailto:skorupan.ivan@gmail.com">
        Send Me a Message
        <Icon icon="paper-plane-tilt" size="1.2em" />
      </CallToAction>
    </div>

    <div class="socials">
      {
        socialLinks.map(link => (
          <a
            href={link.href}
            target="_blank"
            rel="noopener noreferrer"
            aria-label={link.aria}
            class="social-link"
            data-tooltip={link.label}
          >
            <Icon icon={link.icon} size="2em" />
          </a>
        ))
      }
    </div>
  </div>
</aside>

<style>
  .contact-section {
    border-top: 1px solid var(--gray-800);
    border-bottom: 1px solid var(--gray-800);
    padding: 5rem 1.5rem;
    background-color: var(--gray-999_40);
  }

  .wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2rem;
    text-align: center;
    max-width: 60ch;
    margin-inline: auto;
  }

  .content {
    display: grid;
    gap: 1rem;
  }

  .actions {
    margin-top: 1rem;
  }

  h2 {
    font-size: var(--text-3xl);
  }

  p {
    color: var(--gray-300);
    font-size: var(--text-lg);
  }

  .socials {
    display: flex;
    gap: 2.5rem;
    margin-top: 1rem;
  }

  .social-link {
    position: relative;
    color: var(--gray-0);
    transition:
      color 0.3s ease,
      transform 0.3s ease;
  }

  .social-link:hover {
    color: var(--accent-regular);
    transform: translateY(-3px);
  }

  .social-link::after {
    content: attr(data-tooltip);
    position: absolute;
    top: 140%;
    left: 50%;
    transform: translateX(-50%) translateY(-5px);

    background: var(--gray-900);
    color: var(--gray-50);
    font-family: var(--font-body);
    font-size: var(--text-sm);
    padding: 0.25rem 0.6rem;
    border-radius: 0.25rem;
    box-shadow: var(--shadow-md);
    white-space: nowrap;
    opacity: 0;
    pointer-events: none;
    transition:
      opacity 0.3s ease,
      transform 0.3s ease;
  }

  .social-link:hover::after,
  .social-link:focus::after {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }

  /* --- Desktop Layout --- */
  @media (min-width: 50em) {
    .wrapper {
      max-width: 80ch;
      gap: 2.5rem;
    }

    h2 {
      font-size: var(--text-4xl);
    }
  }
</style>
